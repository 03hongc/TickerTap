<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TickerTap | Analysis</title>
    <link rel="stylesheet" href="analysis.css" />
    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet" />
  </head>
  <body>

    <!-- Nav Bar -->
    <nav>
      <ul>
        <li><a href="/main/home.html">Home</a></li>
        <li><a href="analysis.html">Analysis</a></li>
        <li><a href="/about/about.html">About</a></li>
        <li><a href="/help/help.html">Help</a></li>
      </ul>
    </nav>

    <!-- All content inside this wrapper -->
    <div id="analysis-content">
      <!-- Header -->
      <header data-aos="fade-down">
        <h1 id="stock-title">Loading...</h1>
        <p id="stock-price">Fetching price...</p>
      </header>

      <!-- Financial Metrics Section -->
      <main>
        <section id="metrics-section" data-aos="fade-up">
          <h3>Financial Metrics</h3>
          <ul id="metrics-list"></ul>
        </section>
      </main>   

      <!-- Chart Section -->
      <section id="chart-section" data-aos="fade-up">
        <h3>Price History</h3>

        <div id="chart-controls">
          <label for="rangeSelect">Select Time Range:</label>
          <select id="rangeSelect">
            <option value="7">1 Week</option>
            <option value="30" selected>1 Month</option>
            <option value="180">6 Months</option>
            <option value="365">1 Year</option>
            <option value="1825">5 Years</option>
            <option value="max">Max</option>
          </select>
        </div>

        <canvas id="priceChart" width="600" height="300"></canvas>
      </section>

      <!-- News Sentiment -->
      <section id="sentiment-section" data-aos="fade-up">
        <h3>News Sentiment</h3>
        <div id="sentiment-summary">Loading news sentiment...</div>
      </section>
    </div> 

    <!-- Final DD Score-->
    <section id="dd-score-section" data-aos="fade-up">
      <h3>Final DD Score</h3>
      <div id="dd-score-box">Calculating...</div>
    </section>  

    <!-- Fallback Message (shown if no ticker is found) -->
    <div id="no-ticker-message" style="display: none; text-align: center; margin-top: 60px;">
      <h2>No ticker found</h2>
      <p>Please return to the homepage and enter a stock symbol.</p>
    </div>

    <!-- Footer -->
    <footer>
      <p>&copy; 2025 TickerTap. All rights reserved. A project by Collin Hong</p>
    </footer>

    <!-- Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
    <script>
      AOS.init();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="analysis.js"></script>
  </body>
</html>
